<!DOCTYPE html>
<html lang="en">

    <head>

        <title>Reading Session</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <style>

        </style>

        <script type="text/javascript" src="../lib/ajax.js"></script>
        <script type="text/javascript" src="javascript/controlTextTable.js" defer></script>
        <script type="text/javascript" src="javascript/setupTextTable.js" defer></script>
        <script type="text/javascript" src="javascript/divs/lib.js"></script>
        <script type="text/javascript" src="javascript/divs/upload.js"></script>
        <script type="text/javascript" src="javascript/divs/viewDetails.js"></script>
        <script type="text/javascript" src="javascript/divs/analyse.js"></script>
        <script type="text/javascript" src="javascript/divs/compare.js"></script>

    </head>

    <body>

        <div id="top">
            <input id="but_fil" type="button" onclick="showFilterDiv()" value="Filter" />
            <input id="but_new" type="button" onclick="showUploadDiv(true)" value="New Text" />
            <input id="but_ver" type="button" onclick="showUploadDiv(false)" value="New Version" disabled />
            <input id="but_view" type="button" onclick="showViewDetailsDiv()" value="View Details" disabled />
            <input id="but_ana" type="button" onclick="showAnalyseDiv()" value="Analyse" disabled />
            <input id="but_comp" type="button" onclick="showCompareDiv()" value="Compare" disabled />
            <input id="but_hide" type="button" onclick="hideDivs()" value="Hide" />
        </div>

        <div id="middle"></div>

            <div id="fil" hidden>

                <form id="fil_reset"></form>

                Title Keywords
                <input id="fil_search" form="fil_reset" type="text" placeholder="Search" /><br>

                Ownership
                <select id="fil_type" form="fil_reset">
                    <option value="owned">Me</option>
                    <option value="unowned">Not Me</option>
                    <option value="all">All</option>
                </select><br>

                Minimum target age
                <input id="fil_min_age" form="fil_reset" type="number" value="0" />

                Maximum target age
                <input id="fil_max_age" form="fil_reset" type="number" value="255" />

                <input id="filter_button" type="button"
                onclick="filterTexts(fil_search.value, fil_type.value, fil_min_age.value, fil_max_age.value)"
                value="Filter" />

            </div>

            <div id="up" hidden>

                <form id="up_reset"></form>

                <div class="left">
                    Title <input id="up_title" type="text" /><br>
                    Version <span id="up_ver"></span><br>
                    File <input id="up_file" form="up_reset" type="file" /><br>
                    Make Text and Associated Reading Data Public
                    <input id="up_is_public" form="up_reset" type="checkbox" /><br>
                </div>

                <div class="right">

                    Minimum Reader Age
                    <input form="up_reset" type="checkbox" onchange="up_min_age.disabled = !up_min_age.disabled;" />
                    <input id="up_min_age" form="up_reset" type="number" disabled /><br>

                    Maximum Reader Age
                    <input form="up_reset" type="checkbox" onchange="up_max_age.disabled = !up_max_age.disabled;" />
                    <input id="up_max_age" form="up_reset" type="number" disabled /><br>

                    Reader Gender
                    <input form="up_reset" type="checkbox" onchange="up_gender.disabled = !up_gender.disabled;" />
                    <select id="up_gender" form="up_reset" disabled>
                        <option value="m">Male</option>
                        <option value="f">Female</option>
                    </select>

                </div>

                <input type="button" onclick="upload()" value="Upload" />

            </div>

            <div id="view" hidden>

                Title: <span id="view_title"></span><br>
                Version: <span id="view_ver"></span><br>
                Uploader: <select id="view_uploader"></select><br>
                Privacy Level: <span id="view_privacy"></span><br>
                Target Age Range: <span id="view_age_range"></span><br>
                Target Gender: <span id="view_gender"></span><br>
                Text: <br>
                <div id="view_text"></div><br>

            </div>

            <div id="an" hidden>

                <h2 id="an_title"></h2>
                <br>

                <select id="an_average_sel">
                    <option value="mean">Mean</option>
                    <option value="median">Median</option>
                    <option value="mode">Mode</option>
                </select>
                <select id="an_graphic_sel">
                    <option value="csv">CSV</option>
                    <option value="heatmap">Heatmap</option>
                    <option value="graph">Graph</option>
                </select>
                <select id="an_statistic_sel">
                    <option value="first_fix">First-Fixation Duration</option>
                    <option value="gaze">Gaze Duration</option>
                    <option value="spill">Spillover Time</option>
                    <option value="reg_in">Regressions In</option>
                    <option value="reg_out">Regressions Out</option>
                </select>
                <br>

                <select id="an_gender_sel" form="an_reset">
                    <option value="all">All</option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                </select>
                <div>
                    Minimum age: <input id="an_min_age_sel" form="an_reset" type="number" />
                    Maximum age: <input id="an_max_age_sel" form="an_reset" type="number" />
                </div>
                <input type="button" onclick="download()" value="Download" />

                <div id="an_graphic"></div>

            </div>

            <div id="comp" hidden>

                <select id="comp_average_sel">
                    <option value="mean">Mean</option>
                    <option value="median">Median</option>
                    <option value="mode">Mode</option>
                </select>
                <br>

                <table id="comp_table">
                    <tr>
                        <th>Statistic</th>
                        <th id="comp_title_1"></th>
                        <th id="comp_title_2"></th>
                    </tr>
                    <tr>
                        <td>Number of Regressions (%)</td>
                        <td id="comp_fix_1"></td>
                        <td id="comp_fix_2"></td>
                    </tr>
                    <tr>
                        <td>Gaze Duration (ms)</td>
                        <td id="comp_gaze_1"></td>
                        <td id="comp_gaze_2"></td>
                    </tr>
                    <tr>
                        <td>First-Fixation Duration (ms)</td>
                        <td id="comp_first_fix_1"></td>
                        <td id="comp_first_fix_2"></td>
                    </tr>
                    <tr>
                        <td>Reading Speed (wpm)</td>
                        <td id="comp_wpm_1"></td>
                        <td id="comp_wpm_2"></td>
                    </tr>
                </table>

            </div>

            <br><br>

            <table id="texts">
                <tr>
                    <th>Unselected</th>
                    <th>Selected</th>
                </tr>
            </table>

        </div>

    </body>

</html>
